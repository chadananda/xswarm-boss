name = "xswarm-webhooks"
main = "src/index.js"
compatibility_date = "2024-10-23"
compatibility_flags = ["nodejs_compat"]

# Workers configuration
workers_dev = true
account_id = "b750d0f7242bbc76f115f72840453083"

# Local development configuration
[dev]
port = 8787

# R2 Storage binding (allows Worker to access R2 bucket)
# Used for general storage AND Git LFS objects (prefix: lfs/objects/)
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "xswarm-boss"

# Environment variables (development configuration)
# Note: ALL sensitive keys must be managed as secrets via wrangler secret put
# NEVER commit real API keys to this file!
[vars]
ENVIRONMENT = "production"
# Set via: wrangler secret put TWILIO_ACCOUNT_SID
# Set via: wrangler secret put TWILIO_PHONE_NUMBER
# Set via: wrangler secret put SENDGRID_API_KEY
# Set via: wrangler secret put ANTHROPIC_API_KEY

# Secrets are managed via:
#   wrangler secret put <KEY>
# Or use the setup script:
#   pnpm setup:secrets
#
# Required secrets:
#   - TWILIO_ACCOUNT_SID
#   - TWILIO_AUTH_TOKEN
#   - STRIPE_SECRET_KEY
#   - STRIPE_WEBHOOK_SECRET
#   - TURSO_DATABASE_URL
#   - TURSO_AUTH_TOKEN
#   - SENDGRID_API_KEY         (Email sending/receiving)
#   - LFS_AUTH_TOKEN_READ      (Git LFS read access)
#   - LFS_AUTH_TOKEN_WRITE     (Git LFS write access)
